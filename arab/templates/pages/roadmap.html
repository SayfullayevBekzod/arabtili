{% extends "base.html" %}
{% block title %}Roadmap{% endblock %}
{% block content %}

<div class="max-w-5xl mx-auto px-4 py-8">

  <!-- Top header -->
  <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
    <div>
      <div class="text-xs text-slate-400">0 â†’ PRO learning</div>
      <h1 class="mt-1 text-3xl md:text-5xl font-black text-white">ğŸ—º Roadmap</h1>
      <p class="mt-2 text-slate-300 text-sm max-w-2xl leading-relaxed">
        Duolingo uslubida bosqichma-bosqich: <span class="text-white/90">A0</span> â†’ <span class="text-white/90">B1</span>.
        Har bir bosqichda lesson + practice + review.
      </p>

      <div class="mt-4 flex flex-wrap gap-2 text-xs">
        <span class="rounded-full border border-white/10 bg-white/5 px-3 py-1 text-slate-300">âœ… Alifbo</span>
        <span class="rounded-full border border-white/10 bg-white/5 px-3 py-1 text-slate-300">âœ… Lugâ€˜at</span>
        <span class="rounded-full border border-white/10 bg-white/5 px-3 py-1 text-slate-300">âœ… Practice</span>
        <span class="rounded-full border border-white/10 bg-white/5 px-3 py-1 text-slate-300">âœ… Review</span>
      </div>
    </div>

    <div class="flex items-center gap-2">
      <a href="/courses/"
         class="rounded-2xl border border-white/10 bg-white/5 px-4 py-2 text-sm text-white/90 hover:bg-white/10 transition">
        Kurslar
      </a>
      <a href="/alphabet/"
         class="rounded-2xl bg-emerald-400 px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-emerald-300 transition">
        ğŸš€ Start A0
      </a>
    </div>
  </div>

  <!-- Duolingo-like path container -->
  <div class="mt-8 relative rounded-3xl border border-white/10 bg-white/5 p-6 md:p-10 overflow-hidden">

    <!-- background blobs -->
    <div class="pointer-events-none absolute -top-24 -left-24 h-72 w-72 rounded-full bg-emerald-400/15 blur-3xl"></div>
    <div class="pointer-events-none absolute -bottom-24 -right-24 h-72 w-72 rounded-full bg-sky-400/15 blur-3xl"></div>

    <!-- vertical line (path) -->
    <div class="absolute left-1/2 top-10 bottom-10 w-[3px] -translate-x-1/2 bg-white/10 rounded-full"></div>

    <!-- nodes -->
    <div class="space-y-10 md:space-y-12">

      {% for lvl in levels %}
      {% comment %}
        Zig-zag: even -> left, odd -> right
      {% endcomment %}

      <div class="relative">
        <!-- node -->
        <div class="absolute left-1/2 -translate-x-1/2">
          {% if lvl == "A0" %}
            <!-- active -->
            <div class="h-16 w-16 rounded-full bg-emerald-400 text-slate-950 grid place-items-center shadow-lg shadow-emerald-500/20 border border-white/20">
              <span class="text-xl">â­</span>
            </div>
            <div class="mt-2 text-center text-xs text-emerald-200 font-semibold">Start</div>
          {% elif lvl == "B1" %}
            <!-- final -->
            <div class="h-16 w-16 rounded-full bg-sky-400 text-slate-950 grid place-items-center shadow-lg shadow-sky-500/20 border border-white/20">
              <span class="text-xl">ğŸ</span>
            </div>
            <div class="mt-2 text-center text-xs text-sky-200 font-semibold">PRO</div>
          {% else %}
            <!-- middle (locked look) -->
            <div class="h-16 w-16 rounded-full bg-white/10 text-white grid place-items-center border border-white/10">
              <span class="text-xl">ğŸ”’</span>
            </div>
            <div class="mt-2 text-center text-xs text-slate-400 font-semibold">Locked</div>
          {% endif %}
        </div>

        <!-- card -->
        <div class="
          {% if forloop.counter0|divisibleby:2 %}
            md:pr-[52%]
          {% else %}
            md:pl-[52%]
          {% endif %}
        ">
          <div class="group rounded-3xl border border-white/10 bg-slate-950/30 p-5 md:p-6 hover:bg-slate-950/45 transition">

            <div class="flex items-start justify-between gap-4">
              <div>
                <div class="text-xs text-slate-400">Level</div>
                <div class="mt-1 text-2xl md:text-3xl font-black text-white">{{ lvl }}</div>
              </div>

              <div class="flex gap-2 text-xs">
                <span class="rounded-full border border-white/10 bg-white/5 px-3 py-1 text-slate-200">Unit</span>
                {% if lvl == "A0" %}
                  <span class="rounded-full border border-emerald-400/30 bg-emerald-500/15 px-3 py-1 text-emerald-200">Active</span>
                {% elif lvl == "B1" %}
                  <span class="rounded-full border border-sky-400/30 bg-sky-500/15 px-3 py-1 text-sky-200">Final</span>
                {% else %}
                  <span class="rounded-full border border-white/10 bg-white/5 px-3 py-1 text-slate-300">Soon</span>
                {% endif %}
              </div>
            </div>

            <p class="mt-3 text-slate-300 text-sm leading-relaxed">
              {% if lvl == "A0" %}
                Alifbo, harakatlar, bogâ€˜lanish. Oâ€˜qish bazasi va ilk soâ€˜zlar.
              {% elif lvl == "A1" %}
                Oddiy soâ€˜zlar, gaplar, basic grammatika. Kundalik mavzular.
              {% elif lvl == "A2" %}
                Koâ€˜proq lugâ€˜at, tinglab tushunish, matn bilan ishlash.
              {% elif lvl == "B1" %}
                Matnlar, testlar, tez oâ€˜qish va review. Katta practice.
              {% endif %}
            </p>

            <!-- goals chips -->
            <div class="mt-4 flex flex-wrap gap-2 text-xs">
              {% if lvl == "A0" %}
                <span class="rounded-full border border-white/10 bg-white/5 px-3 py-1 text-slate-200">28 harf</span>
                <span class="rounded-full border border-white/10 bg-white/5 px-3 py-1 text-slate-200">Harakatlar</span>
                <span class="rounded-full border border-white/10 bg-white/5 px-3 py-1 text-slate-200">Yozish</span>
              {% elif lvl == "A1" %}
                <span class="rounded-full border border-white/10 bg-white/5 px-3 py-1 text-slate-200">500 soâ€˜z</span>
                <span class="rounded-full border border-white/10 bg-white/5 px-3 py-1 text-slate-200">Basic gaplar</span>
                <span class="rounded-full border border-white/10 bg-white/5 px-3 py-1 text-slate-200">Practice</span>
              {% elif lvl == "A2" %}
                <span class="rounded-full border border-white/10 bg-white/5 px-3 py-1 text-slate-200">1500+ soâ€˜z</span>
                <span class="rounded-full border border-white/10 bg-white/5 px-3 py-1 text-slate-200">Grammar</span>
                <span class="rounded-full border border-white/10 bg-white/5 px-3 py-1 text-slate-200">Listening</span>
              {% else %}
                <span class="rounded-full border border-white/10 bg-white/5 px-3 py-1 text-slate-200">Qurâ€™on lugâ€˜ati</span>
                <span class="rounded-full border border-white/10 bg-white/5 px-3 py-1 text-slate-200">Review/Test</span>
                <span class="rounded-full border border-white/10 bg-white/5 px-3 py-1 text-slate-200">Reading</span>
              {% endif %}
            </div>

            <!-- CTA -->
            <div class="mt-5 flex items-center justify-between">
              <div class="text-xs text-slate-400">
                {% if lvl == "A0" %} Boshlash {% elif lvl == "B1" %} Yakun {% else %} Keyin {% endif %}
              </div>

              {% if lvl == "A0" %}
                <a href="/alphabet/"
                   class="inline-flex items-center gap-2 rounded-2xl bg-emerald-400 px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-emerald-300 transition">
                  Start
                  <span class="translate-x-0 group-hover:translate-x-1 transition">â†’</span>
                </a>
              {% else %}
                <button disabled
                        class="inline-flex items-center gap-2 rounded-2xl bg-white/10 px-4 py-2 text-sm font-semibold text-white/50 cursor-not-allowed">
                  Locked
                  <span>ğŸ”’</span>
                </button>
              {% endif %}
            </div>

          </div>
        </div>
      </div>

      {% endfor %}
    </div>

  </div>

  <!-- Bottom CTA -->
  <div class="mt-8 rounded-3xl border border-white/10 bg-white/5 p-6">
    <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
      <div>
        <div class="text-sm font-semibold text-white">Boshlashga tayyormisan?</div>
        <p class="mt-2 text-sm text-slate-400 leading-relaxed">
          Eng yaxshi start â€” <span class="text-white/90">A0: Alifbo</span>. Har kuni 20 daqiqa â€” 1 oyda sezilarli natija.
        </p>
      </div>
      <a href="/alphabet/"
         class="inline-flex items-center justify-center rounded-2xl bg-emerald-400 text-slate-950 px-6 py-3 text-sm font-semibold hover:bg-emerald-300 transition">
        ğŸš€ A0 dan boshlash
      </a>
    </div>
  </div>

</div>

{% endblock %}
