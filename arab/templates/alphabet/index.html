{% extends "base.html" %}
{% block title %}Arab Alifbosi - O‘rganish{% endblock %}
{% block content %}

<!-- HERO & SPOTLIGHT SECTION -->
<section class="relative overflow-hidden rounded-[2.5rem] border border-white/10 bg-slate-900/40 p-10 mb-10 shadow-2xl">
  <div class="pointer-events-none absolute -top-32 -left-32 h-80 w-80 rounded-full bg-emerald-500/10 blur-[100px]">
  </div>
  <div class="pointer-events-none absolute -bottom-32 -right-32 h-80 w-80 rounded-full bg-sky-500/10 blur-[100px]">
  </div>

  <div class="flex flex-col lg:flex-row gap-12 items-center relative z-10">
    <!-- Text Content -->
    <div class="flex-1 space-y-6">
      <div
        class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-emerald-500/10 border border-emerald-500/20 text-emerald-400 text-[10px] font-black uppercase tracking-widest">
        Boshlang'ich Daraja • Alifbo
      </div>
      <h1 class="text-6xl md:text-8xl font-black leading-tight tracking-tight mt-4">
        Arab <span class="text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-sky-400">Alifbosi</span>
      </h1>
      <p class="text-slate-400 text-lg max-w-xl leading-relaxed font-medium">
        28 ta harfning yozilishi, talaffuzi va so'zlarda qo'llanilishini interaktiv tarzda o'rganing.
      </p>

      <div class="flex flex-wrap gap-3 pt-2">
        <a href="/practice/"
          class="px-8 py-4 rounded-2xl bg-white text-slate-950 font-black text-sm tracking-widest hover:scale-105 transition-all shadow-xl shadow-white/5">
          MUSTAHKAMLASH →
        </a>
      </div>
    </div>

    <!-- Letter Spotlight -->
    <div class="w-full lg:w-[320px]">
      <div
        class="relative group p-10 rounded-[3rem] bg-slate-950/60 border border-white/10 backdrop-blur-xl shadow-2xl text-center space-y-6">
        <div class="text-[10px] font-bold text-slate-500 uppercase tracking-widest">Tavsiya etilgan</div>
        {% with lotd=letters|first %}
        <div
          class="arabic-font text-[120px] text-white font-black group-hover:scale-110 transition-transform duration-500 leading-none">
          {{ lotd.arabic }}
        </div>
        <div class="text-2xl font-black">{{ lotd.name }}</div>
        <a href="{% url 'arab:letter_detail' lotd.id %}"
          class="block w-full py-4 rounded-2xl bg-emerald-500 text-slate-950 font-black text-xs hover:bg-emerald-400 transition-colors tracking-widest uppercase">
          DARSNI BOSHLASH
        </a>
        {% endwith %}
      </div>
    </div>
  </div>
</section>

<!-- CATEGORY FILTERS (Alpine.js Filter) -->
<div x-data="{ filter: 'all' }" class="space-y-10">
  <div class="flex items-center justify-between border-b border-white/5 pb-6 overflow-x-auto gap-8 custom-scrollbar">
    <div class="flex gap-2 min-w-max">
      <button @click="filter = 'all'"
        :class="filter === 'all' ? 'bg-sky-500 text-slate-950' : 'bg-white/5 text-slate-400 hover:bg-white/10'"
        class="px-5 py-2.5 rounded-xl text-xs font-bold transition-all">BARCHASI</button>
      <button @click="filter = 'connect'"
        :class="filter === 'connect' ? 'bg-emerald-500 text-slate-950' : 'bg-white/5 text-slate-400 hover:bg-white/10'"
        class="px-5 py-2.5 rounded-xl text-xs font-bold transition-all">QO'SHILADIGAN</button>
      <button @click="filter = 'non-connect'"
        :class="filter === 'non-connect' ? 'bg-orange-500 text-slate-950' : 'bg-white/5 text-slate-400 hover:bg-white/10'"
        class="px-5 py-2.5 rounded-xl text-xs font-bold transition-all">QO'SHILMAYDIGAN</button>
    </div>
    <div class="text-xs text-slate-500 font-bold whitespace-nowrap">
      JAMI: <span class="text-white">{{ letters|length }} ta harf</span>
    </div>
  </div>

  <!-- ALPHABET GRID -->
  <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-6" dir="rtl">
    {% for l in letters %}
    <a href="{% url 'arab:letter_detail' l.id %}" data-joins="{{ l.joins_to_next|yesno:'true,false' }}"
      x-show="filter === 'all' || (filter === 'connect' && $el.dataset.joins === 'true') || (filter === 'non-connect' && $el.dataset.joins === 'false')"
      class="group relative bg-slate-900/40 border border-white/10 rounded-[2.5rem] p-8 transition-all duration-500 hover:bg-slate-800/50 hover:border-sky-500/30 hover:-translate-y-2 shadow-xl hover:shadow-sky-500/5 overflow-hidden text-center"
      x-transition:enter="transition ease-out duration-300" x-transition:enter-start="opacity-0 scale-90"
      x-transition:enter-end="opacity-100 scale-100">

      <!-- Hover Glow -->
      <div
        class="absolute -right-20 -top-20 h-40 w-40 rounded-full bg-sky-500/10 blur-[50px] opacity-0 group-hover:opacity-100 transition-opacity duration-700">
      </div>

      <div
        class="arabic-font text-6xl md:text-7xl font-black text-white group-hover:scale-110 transition-transform duration-500">
        {{ l.arabic }}
      </div>

      <div class="mt-4 [direction:ltr]">
        <div class="text-sm font-black text-slate-200 tracking-wide">{{ l.name }}</div>
        <div
          class="mt-2 inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-white/5 border border-white/10 text-[9px] font-bold text-slate-500 uppercase tracking-tighter">
          {{ l.joins_to_next|yesno:"Qo'shiladi,Qo'shilmaydi" }}
        </div>
      </div>

      <div class="absolute bottom-4 left-0 right-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
        <span class="text-[9px] font-black text-sky-400 tracking-widest uppercase [direction:ltr]">KO'RISH →</span>
      </div>
    </a>
    {% endfor %}
  </div>
</div>

<style>
  .font-arabic {
    font-family: 'Noto Naskh Arabic', serif;
  }

  .custom-scrollbar::-webkit-scrollbar {
    height: 4px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 10px;
  }
</style>

{% endblock %}