{% extends "base.html" %}
{% block title %}{{ exercise.title }}{% endblock %}
{% block content %}

<section class="rounded-3xl border border-white/10 bg-white/5 p-6">
  <div class="flex items-start justify-between gap-4">
    <div>
      <div class="text-xs text-slate-400">{{ exercise.get_type_display }}</div>
      <h1 class="mt-1 text-3xl font-black">{{ exercise.title }}</h1>
      <p class="mt-2 text-slate-300 text-sm">{{ exercise.instruction }}</p>
    </div>
    <a href="{% url 'arab:lesson_detail' exercise.lesson.id %}" class="text-sm text-slate-300 hover:text-white">← Lesson</a>
  </div>
</section>

<form method="post" action="{% url 'arab:exercise_submit' exercise.id %}" class="mt-6 space-y-4">
  {% csrf_token %}

  {% for q in questions %}
    <div class="rounded-3xl border border-white/10 bg-white/5 p-6">
      <div class="font-bold text-lg">{{ forloop.counter }}. {{ q.text }}</div>

      <div class="mt-4 grid gap-2">
        {% for c in q.choices.all %}
          <label class="flex items-center gap-3 rounded-2xl border border-white/10 bg-black/20 p-4 hover:bg-white/5 cursor-pointer">
            <input type="radio" name="q_{{ q.id }}" value="{{ c.id }}" class="accent-emerald-400">
            <span class="text-slate-100">{{ c.text }}</span>
          </label>
        {% endfor %}
      </div>
    </div>
  {% empty %}
    <div class="text-slate-300">Savollar yo‘q.</div>
  {% endfor %}

  <button class="w-full rounded-2xl bg-white text-slate-950 py-3 font-semibold hover:bg-slate-200">
    ✅ Submit
  </button>
</form>

{% endblock %}
