{% extends "base.html" %}
{% block title %}Video Darsliklar{% endblock %}
{% block content %}

<!-- HEADER -->
<div class="mb-8 flex flex-col md:flex-row md:items-end justify-between gap-6">
    <div>
        <h1 class="text-3xl font-black">ğŸ¥ Video Darsliklar</h1>
        <p class="mt-2 text-slate-300 text-sm max-w-lg">
            Barcha video darslar bir joyda. Oâ€˜zingizga kerakli mavzuni qidiring va oâ€˜rganishni boshlang.
        </p>
    </div>

    <form method="get" class="w-full md:w-auto relative">
        <span class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-400">ğŸ”</span>
        <input type="text" name="q" value="{{ q|default:'' }}" placeholder="Video nomi..."
            class="w-full md:w-64 rounded-2xl border border-white/10 bg-slate-950/50 pl-11 pr-4 py-3 text-sm text-white focus:outline-none focus:border-emerald-500/50 transition">
    </form>
</div>

<!-- VIDEOS GRID -->
<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
    {% for v in videos %}
    <a href="{% url 'arab:video_detail' v.id %}"
        class="group relative rounded-3xl border border-white/10 bg-white/5 overflow-hidden hover:bg-white/10 transition-all hover:-translate-y-1">

        <!-- Thumbnail Placeholder -->
        <div class="h-40 w-full bg-slate-900/50 flex items-center justify-center relative">
            <!-- Play Icon -->
            <div
                class="w-12 h-12 rounded-full bg-white/10 flex items-center justify-center group-hover:scale-110 transition">
                <span class="text-2xl text-white">â–¶</span>
            </div>
            <div class="absolute bottom-2 right-2 bg-black/80 text-xs px-2 py-1 rounded-lg text-white">
                {{ v.duration }}s
            </div>

            <div
                class="absolute top-2 left-2 px-2 py-1 rounded-lg text-[10px] font-bold uppercase tracking-wider
            {% if v.is_free %} bg-emerald-500/20 text-emerald-300 {% else %} bg-amber-500/20 text-amber-300 {% endif %}">
                {% if v.is_free %}Free{% else %}Premium{% endif %}
            </div>
        </div>

        <div class="p-5">
            <h3 class="font-bold text-lg leading-tight group-hover:text-emerald-300 transition line-clamp-2">
                {{ v.title }}
            </h3>

            <div class="mt-3 flex items-center gap-2 text-xs text-slate-400">
                <span class="truncate max-w-[150px]">{{ v.lesson.unit.course.title }}</span>
                <span>â€¢</span>
                <span>{{ v.created_at|date:"d M" }}</span>
            </div>
        </div>
    </a>
    {% empty %}
    <div class="col-span-full py-12 text-center text-slate-400">
        <div class="text-4xl mb-3">ğŸ“­</div>
        Video topilmadi.
    </div>
    {% endfor %}
</div>

{% endblock %}