{% extends "base.html" %}
{% block title %}{{ verb.past_base|default:"Fe'l" }} - Tuslanish Jadvali | AlifPro{% endblock %}
{% block content %}

<div class="max-w-5xl mx-auto py-12 px-4">
    <!-- Back Link -->
    <a href="{% url 'arab:verb_practice_index' %}"
        class="inline-flex items-center gap-2 text-slate-400 hover:text-cyan-400 mb-6 transition-colors">
        <i class="fas fa-arrow-left"></i> Fe'llarga qaytish
    </a>

    <!-- Verb Header -->
    <div class="p-8 rounded-[3rem] bg-slate-900/60 border border-white/10 mb-10">
        <div class="text-center">
            <div class="text-5xl font-arabic text-white mb-4">{{ verb.past_base|default:"—" }}</div>
            <div class="flex justify-center gap-4 mb-4">
                <span class="px-4 py-2 rounded-xl bg-emerald-500/20 text-emerald-400">Moziy</span>
                <span class="px-4 py-2 rounded-xl bg-cyan-500/20 text-cyan-400">{{ verb.present_base|default:"—" }}</span>
                {% if verb.command_base %}
                <span class="px-4 py-2 rounded-xl bg-amber-500/20 text-amber-400">{{ verb.command_base }}</span>
                {% endif %}
            </div>
            <h2 class="text-2xl text-white font-bold mb-2">{{ verb.translation_uz|default:"Tarjima" }}</h2>
            {% if verb.masdar %}
            <p class="text-slate-400">Masdar: <span class="text-violet-400 font-arabic">{{ verb.masdar }}</span></p>
            {% endif %}
        </div>
    </div>

    <!-- Conjugation Tables -->
    {% for tense, conj_list in conjugations.items %}
    {% if conj_list %}
    <div class="mb-10">
        <h3 class="text-xl font-bold text-white mb-4 flex items-center gap-2">
            <span class="w-8 h-8 rounded-lg grid place-items-center 
                {% if tense == 'past' %}bg-emerald-500/20 text-emerald-400
                {% elif tense == 'present' %}bg-cyan-500/20 text-cyan-400
                {% else %}bg-amber-500/20 text-amber-400{% endif %}">
                <i
                    class="fas {% if tense == 'past' %}fa-history{% elif tense == 'present' %}fa-clock{% else %}fa-exclamation{% endif %}"></i>
            </span>
            {% if tense == 'past' %}Moziy (O'tgan Zamon)
            {% elif tense == 'present' %}Mudori (Hozirgi/Kelasi Zamon)
            {% else %}Amr (Buyruq){% endif %}
        </h3>

        <div class="overflow-x-auto">
            <table class="w-full rounded-2xl overflow-hidden">
                <thead>
                    <tr class="bg-slate-800">
                        <th class="p-4 text-left text-slate-400 font-medium">Shaxs</th>
                        <th class="p-4 text-right text-slate-400 font-medium">Arab</th>
                        <th class="p-4 text-left text-slate-400 font-medium">Transliteratsiya</th>
                    </tr>
                </thead>
                <tbody class="bg-slate-900/60">
                    {% for conj in conj_list %}
                    <tr class="border-t border-white/5">
                        <td class="p-4 text-slate-300">{{ conj.get_person_display|default:"—" }}</td>
                        <td class="p-4 text-2xl font-arabic text-white text-right">{{ conj.conjugated_form|default:"—" }}</td>
                        <td class="p-4 text-slate-400">{{ conj.transliteration|default:"—" }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    {% endif %}
    {% empty %}
    <div class="text-center py-20">
        <i class="fas fa-table text-6xl text-slate-700 mb-4"></i>
        <p class="text-slate-400 text-lg">Hozircha tuslanish ma'lumotlari yo'q.</p>
    </div>
    {% endfor %}

    <!-- Practice CTA -->
    <div class="mt-10 p-8 rounded-[2rem] bg-cyan-500/10 border border-cyan-500/30 text-center">
        <h3 class="text-2xl font-bold text-white mb-3">Mashq qiling!</h3>
        <p class="text-slate-400 mb-6">Fe'l tuslanishini test qiling</p>
        <a href="{% url 'arab:verb_practice_session' %}"
            class="inline-block px-8 py-4 rounded-2xl bg-cyan-500 text-slate-900 font-bold hover:bg-cyan-400 transition-all">
            <i class="fas fa-dumbbell mr-2"></i>Mashqni boshlash
        </a>
    </div>
</div>

{% endblock %}