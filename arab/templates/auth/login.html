{% extends "base.html" %}
{% block title %}Login{% endblock %}
{% block content %}

<section class="relative">
  <!-- glow -->
  <div class="pointer-events-none absolute -top-24 -left-24 h-72 w-72 rounded-full bg-emerald-400/15 blur-3xl"></div>
  <div class="pointer-events-none absolute -bottom-24 -right-24 h-72 w-72 rounded-full bg-sky-400/15 blur-3xl"></div>

  <div class="mx-auto max-w-lg">
    <div class="rounded-3xl border border-white/10 bg-white/5 p-7 sm:p-9 shadow-[0_20px_80px_-60px_rgba(0,0,0,0.9)]">

      <!-- Header -->
      <div class="flex items-start justify-between gap-4">
        <div>
          <div class="inline-flex items-center gap-2 rounded-2xl border border-white/10 bg-slate-950/40 px-4 py-2 text-xs text-slate-300">
            <span class="h-2 w-2 rounded-full bg-emerald-400"></span>
            Account â€¢ Login
          </div>

          <h1 class="mt-4 text-3xl sm:text-4xl font-black">Xush kelibsiz ðŸ‘‹</h1>
          <p class="mt-2 text-slate-300 text-sm">
            AlifPro Academy ga kirish uchun maâ€™lumotlaringizni kiriting.
          </p>
        </div>

        <div class="h-12 w-12 rounded-2xl bg-gradient-to-br from-emerald-400/20 to-sky-400/20 border border-white/10 grid place-items-center">
          <i class="fa-solid fa-right-to-bracket text-white/90"></i>
        </div>
      </div>

      {% if error %}
        <div class="mt-5 rounded-2xl border border-red-400/30 bg-red-500/10 px-4 py-3 text-sm text-red-200">
          {{ error }}
        </div>
      {% endif %}

      <!-- Form -->
      <form method="post" class="mt-7 space-y-4">
        {% csrf_token %}

        <!-- Username -->
        <div>
          <label class="text-sm text-slate-300">Username</label>
          <div class="mt-2 relative">
            <span class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-400">
              <i class="fa-regular fa-user"></i>
            </span>
            <input name="username" autocomplete="username"
                   placeholder="username"
                   class="w-full rounded-2xl border border-white/10 bg-black/30 pl-11 pr-4 py-3 outline-none
                          focus:ring-2 focus:ring-white/20 focus:border-white/20 transition"/>
          </div>
        </div>

        <!-- Password -->
        <div>
          <label class="text-sm text-slate-300">Password</label>
          <div class="mt-2 relative">
            <span class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-400">
              <i class="fa-solid fa-lock"></i>
            </span>

            <input id="password" type="password" name="password" autocomplete="current-password"
                   placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
                   class="w-full rounded-2xl border border-white/10 bg-black/30 pl-11 pr-12 py-3 outline-none
                          focus:ring-2 focus:ring-white/20 focus:border-white/20 transition"/>

            <button type="button" id="togglePass"
                    class="absolute right-3 top-1/2 -translate-y-1/2 rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-xs text-slate-300 hover:bg-white/10 transition">
              Show
            </button>
          </div>

          <div class="mt-3 flex items-center justify-between text-xs text-slate-400">
            <label class="inline-flex items-center gap-2 cursor-pointer select-none">
              <input type="checkbox" class="accent-emerald-400">
              Remember me
            </label>
            <a href="/accounts/forgot/" class="hover:text-white transition">Parolni unutdingmi?</a>
          </div>
        </div>

        <!-- Button -->
        <button class="w-full rounded-2xl bg-white text-slate-950 py-3 font-semibold hover:bg-slate-200 transition flex items-center justify-center gap-2">
          <i class="fa-solid fa-arrow-right-to-bracket"></i>
          Login
        </button>
      </form>

      <!-- Footer links -->
      <div class="mt-6 border-t border-white/10 pt-5">
        <p class="text-sm text-slate-300">
          Akkaunting yoâ€˜qmi?
          <a href="/accounts/register/" class="text-emerald-300 hover:text-emerald-200 font-semibold">Register</a>
        </p>

        <div class="mt-3 text-xs text-slate-500">
          Kirish orqali siz <a href="/terms/" class="text-slate-300 hover:text-white">Shartlar</a> va
          <a href="/privacy/" class="text-slate-300 hover:text-white">Maxfiylik</a> siyosatiga rozilik bildirasiz.
        </div>
      </div>

    </div>
  </div>
</section>

<script>
  const btn = document.getElementById("togglePass");
  const input = document.getElementById("password");
  if (btn && input) {
    btn.addEventListener("click", () => {
      const isPassword = input.type === "password";
      input.type = isPassword ? "text" : "password";
      btn.textContent = isPassword ? "Hide" : "Show";
    });
  }
</script>

{% endblock %}
